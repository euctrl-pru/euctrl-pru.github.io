<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">

<title>Flights flows within Europe &#8211; PRU</title>
<meta name="description" content="IFR Movements flows within Europe (Eurocontrol member States plus Kosovo) 2007-2014">
<meta name="keywords" content="flows, ifr, flights, europe, eurocontrol">




<link rel="canonical" href="https://euctrl-pru.github.io/studies/flows-intra/">
<link rel="alternate" href="https://euctrl-pru.github.io/feed.xml" type="application/atom+xml" title="PRU Feed">

<!-- we are humans not machines -->
<link type="text/plain" rel="author" href="https://euctrl-pru.github.io/humans.txt" />


<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv-printshiv.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Bootstrap & JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/css/select2.min.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.12/dc.min.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.0/lodash.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.12/dc.min.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

<!-- Modernizr -->
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- For all browsers (and overwrites bootstrap...) -->
<link rel="stylesheet" href="/assets/table-36c3a3dd5a8e24e3ade00561735981d6.css">
<link rel="stylesheet" href="/assets/solarized-1e7b132b4b912551326a6a65610ec0b2.css">
<link rel="stylesheet" href="/assets/logo-4e6034853f67de32a9782e5252dfca81.css">
<link rel="stylesheet" href="/assets/general-d532e6af8148b39feec8f522570889c2.css">

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://euctrl-pru.github.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://euctrl-pru.github.io/favicon.png">

<!-- Google Analytics -->
<script type="text/javascript">
!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-62697169-2","auto"),ga("send","pageview");
</script>
  <!-- loadign and configuring MathJax -->
<script type="text/javascript" async
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/HTML-CSS"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  tex2jax:
    {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
      processEscapes: true
    },
  TeX:
    {
      equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"],
      TagSide: "left",
      Macros:
        {
          b: ['\\overline{#1}',1],
          h: ['\\widehat{#1}',1],
          til: ['\\widetilde{#1}',1],
        bold: ['\\mathbf{#1}',1],
          sans: ['\\mathsf{#1}',1],
        vect: ['\\boldsymbol{\\mathbf{#1}}',1],
        zeros: ['\\mathbf{0}'],
        ones: ['\\mathbf{1}'],
        complex: ['\\mathbf{C}'],
        C: ['\\mathsf{c}'],
        d: ['\\,d'],
        expect: ['\\mathbf{E}'],
        emf: ['\\mathscr{E}'],
        ft: ['\\mathcal{F}'],
        Lagrange: ['\\mathscr{L}'],
        naturals: ['\\mathbf{N}'],
        normal: ['\\mathcal{N}'],
        prob: ['\\mathbf{P}'],
        pset: ['\\mathcal{P}'],
        rationals: ['\\mathbf{Q}'],
        reals: ['\\mathbf{R}'],
        ereals: ['\\overline{\\mathbf{R}}'],
        risk: ['\\mathcal{R}'],
        integers: ['\\mathbf{Z}'],
        symdiff: ['\\,\\Delta\\,'],
        grad: ['\\nabla'],
        emptyset: ['\\varnothing'],
        ortho: ['{\\bot}'],
        deq: [':='],
        given: ['\\mid'],
        midgiven: ['\\;\\middle\\vert\\;'],
        set: ['\\{\\, #1 \\,\\}', 1],
        inner: ['\\langle#1,#2\\rangle', 2],
        ave: ['\\langle #1 \\rangle', 1],
        innerlr: ['\\left\\langle#1,#2\\right\\rangle', 2],
        avelr: ['\\left\\langle#1\\right\\rangle', 1],
        T: ['\\top'],
        abs: ['\\lvert#1\\rvert', 1],
        abslr:['\\left\\lvert#1\\right\\rvert', 1],
        norm: ['\\lVert#1\\rVert', 1],
        normlr: ['\\left\\lVert#1\\right\\rVert', 1],
        zeronorm: ['\\norm{#1}_0', 1],
        zeronormlr: ['\\normlr{#1}_0', 1],
        onenorm: ['\\norm{#1}_1', 1],
        onenormlr: ['\\normlr{#1}_1', 1],
        twonorm: ['\\norm{#1}_2', 1],
        twonormlr: ['\\normlr{#1}_2', 1],
        inftynorm: ['\\norm{#1}_\\infty', 1],
        inftynormlr: ['\\normlr{#1}_\\infty', 1],
        pnorm: ['\\norm{#1}_p', 1],
        pnormlr: ['\\normlr{#1}_p', 1],
        Frobnorm: ['\\norm{#1}_\\mathrm{F}', 1],
        Frobnormlr: ['\\normlr{#1}_\\mathrm{F}', 1],
        maxnorm: ['\\norm{#1}_\\mathrm{max}', 1],
        maxnormlr:  ['\\normlr{#1}_\\mathrm{max}', 1],
        tvnorm: ['\\norm{#1}_\\mathrm{TV}', 1],
        tvnormlr: ['\\normlr{#1}_\\mathrm{TV}', 1],
        ind: ['\\mathbf{I}_{\\{ #1 \\} }', 1],
        pind: ['\\mathbf{I}(#1)', 1],
        argmin: ['\\mathop{\\mathrm{arg\\,min}}'],
        argmax: ['\\mathop{\\mathrm{arg}\\,\\max}'],
        bdiag: ['\\mathop{\\mathrm{bdiag}}'],
        bd: ['\\mathop{\\mathrm{bd}}'],
        comb: ['\\mathop{\\mathrm{comb}}'],
        codom: ['\\mathop{\\mathrm{codim}}'],
        diag: ['\\mathop{\\mathrm{diag}}'],
        dom: ['\\mathop{\\mathrm{dom}}'],
        epi: ['\\mathop{\\mathrm{epi}}'],
        hard: ['\\mathop{\\mathrm{hard}}'],
        interior: ['\\mathop{\\mathrm{int}}'],
        MSE: ['\\mathop{\\mathrm{MSE}}'],
        modop: ['\\mathop{\\mathrm{mod}}'],
        minimize: ['\\mathop{\\mathrm{minimize}}'],
        maximize: ['\\mathop{\\mathrm{maximize}}'],
        midop: ['\\mathop{\\mathrm{mid}}'],
        nint: ['\\mathop{\\mathrm{nint}}'],
        pen: ['\\mathop{\\mathrm{pen}}'],
        Poisson: ['\\mathop{\\mathrm{Poisson}}'],
        rect: ['\\mathop{\\mathrm{rect}}'],
        RMSE: ['\\mathop{\\mathrm{RMSE}}'],
        range: ['\\mathop{\\mathrm{range}}'],
        relint: ['\\mathop{\\mathrm{relint}}'],
        rank: ['\\mathop{\\mathrm{rank}}'],
        st: ['\\mathop{\\mathrm{subject\\ to}}'],
        sinc: ['\\mathop{\\mathrm{sinc}}'],
        sign: ['\\mathop{\\mathrm{sign}}'],
        sgn: ['\\mathop{\\mathrm{sgn}}'],
        soft: ['\\mathop{\\mathrm{soft}}'],
        skewop: ['\\mathop{\\mathrm{skewop}}'],
        symop: ['\\mathop{\\mathrm{symop}}'],
        SNR: ['\\mathop{\\mathrm{SNR}}'],
        spanop: ['\\mathop{\\mathrm{span}}'],
        tr: ['\\mathop{\\mathrm{tr}}'],
        var: ['\\mathop{\\mathrm{var}}'],
        MinProb: ['\\begin{aligned}' +
          '&\\minimize_{#1} & & {#2}' +
          '\\end{aligned}', 2],
        ConMinProb: ['\\begin{aligned}' +
          '&\\minimize_{#1} & & #2 \\\\' +
          '&\\st & & #3' +
          '\\end{aligned}', 3],
        MaxProb: ['\\begin{aligned}' +
          '&\\maximize_{#1} & & {#2}' +
          '\\end{aligned}', 2],
        ConMaxProb: ['\\begin{aligned}' +
          '&\\maximize_{#1} & & #2 \\\\' +
          '&\\st & & #3' +
          '\\end{aligned}', 3],
        ArgMinProb: ['\\begin{aligned}' +
          '#1 = &\\argmin_{#2} & & {#3}' +
          '\\end{aligned}', 3],
        ArgConMinProb: ['\\begin{aligned}' +
          '#1 = &\\argmin_{#2} & & {#3} \\\\' +
          '&\\st & & #4' +
          '\\end{aligned}', 4],
        ArgMaxProb: ['\\begin{aligned}' +
          '#1 = &\\argmax_{#2} & & {#3}' +
          '\\end{aligned}', 3],
        ArgConMaxProb: ['\\begin{aligned}' +
          '#1 = &\\argmax_{#2} & & {#3} \\\\' +
          '&\\st & & #4' +
          '\\end{aligned}', 4]
        }
    },
  "HTML-CSS": { availableFonts: ["TeX"] }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    // Fix <code> tags after MathJax finishes running. This is a
    // hack to overcome a shortcoming of Markdown. Discussion at
    // https://github.com/mojombo/jekyll/issues/199
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

</head>
<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->
<body>
  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand">
        <a href="/#">
          <img src="/assets/ec-logo-brand-a775c94482537ad9cea33dfceab62e2c.png" alt="PRU">
          <div id="logo"></div>
        </a>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        
          
              
          
          <li><a href="https://euctrl-pru.github.io/posts/" >News</a></li>
        
          
              
          
          <li><a href="https://euctrl-pru.github.io/graphs/" >Graphs</a></li>
        
          
              
          
          <li><a href="https://euctrl-pru.github.io/data/" >Data</a></li>
        
          
              
          
          <li><a href="https://euctrl-pru.github.io/studies/" >Studies</a></li>
        
          <li class="dropdown">
              <a href="/references/#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                 aria-haspopup="true" aria-expanded="false">References <span class="caret"></span></a>
              <ul class="dropdown-menu">
                  <li><a href="/references/dataset/">Datasets</a></li>
                  <li><a href="/references/definition/">Definitions</a></li>
                  <li><a href="/references/ANSP/">ANSP's</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="/references/methodology/">Methodology</a></li>
                   <li><a href="/references/bibliography.html">Bibliography</a></li>
              </ul>
          </li>
      </ul>
      <!-- let's keep About & C0. out of navigation.yml to have it right-aligned -->
      <ul class="nav navbar-nav navbar-right">
        <li>
          <!-- a search box for the content of this site -->
          <!-- inspired by http://hardik.org/2013/06/01/stylising-duckduckgo-site-search/ -->
          <form class="navbar-form" method="get" action="https://duckduckgo.com/">
            <input type="hidden" name="sites" value="euctrl-pru.github.io"/>
            <input type="hidden" name="ka" value="h"/>
            <input type="hidden" name="k7" value="#fafafa"/>
            <input type="hidden" name="kj" value="#2e86c6"/>
            <input type="hidden" name="ky" value="#fafafa"/>
            <input type="hidden" name="kx" value="b"/>
            <input type="hidden" name="kt" value="Helvetica"/>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search this site" name="q" id="srch-term">
              <div class="input-group-btn">
                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
              </div>
            </div>
          </form>
        </li>
        <li class=""><a href="/about/#">About</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<script src="/assets/active_navbar-1e84c186919b1764f5f681943714efab.js"></script>
<script src="/assets/logo-eb165b422665820a3d7049ce9652c068.js"></script>

  <div class="container">
    <link href="/assets/vendor/normalize-a98c3c1636e2a3e223e49eea5c8cfe86.css" rel="stylesheet" media="all" property="stylesheet">
<link href="/assets/vendor/styles-6c774b82588e7711c54c7515246f2e8e.css" rel="stylesheet" media="all" property="stylesheet">

<script src="/assets/vendor/circular-flows.min-fb5e408405e9c4b99def289777f66770.js"></script>


  <div id=dia-container class="container">

  	<header role="banner">
  		<h1>Flights flows within Europe</h1>
      <div class="lead-in">
        Explore IFR flights flows between <a href="http://www.eurocontrol.int/about/member-states">Eurocontrol Member States</a> grouped as per STATFOR regions for the period 2007 - 2014.<br>Click on a region to discover flows country-by-country. Hover on a region, country or flow in order to get the number of movements.
      </div>
      <div class="credits">
        by <a href="http://linkedin.com/in/espinielli">Enrico Spinielli</a> (data processing and visualization) &amp;
        Muriel Tholome (raw data provision)
      </div>
      <hr>
  	</header>

  	<div class="wrap">
  		<div class="main-timeline" role="main">
        <nav role=navigation>
          <div id="timeline"></div>
          <div id="play-buttons">
            <span><i class="fa fa-play fa-2x"></i></span> &nbsp; &nbsp;
            <span><i class="fa fa-stop fa-2x"></i></span>
          </div>
        </nav>
        <div id="diagram"></div>
  		</div>
  	</div>


  	<footer role="contentinfo">
      <hr>
      <div class="column-wrap">
        <div class="column">
          <div class="column-item">
            <h2>Estimating intra-European flight flows</h2>
            <p>
              The flows above are about the intra-European flights for the years 2007-2014, i.e. the ones that originate and arrive in one of the <a href="http://www.eurocontrol.int/about/member-states">Eurocontrol member States</a>' airports.
            <p>
              For the grouping of countries into regions we have adopted the ESRA 08 classification
              from Eurocontrol/STAFTOR (see Fig. 35 page 46 of
              "<a href="http://www.eurocontrol.int/sites/default/files/content/documents/official-documents/forecasts/seven-year-flights-service-units-forecast-2015-2021-Sep2015.pdf">EUROCONTROL Forecast of Annual Number of IFR Flights (2015 - 2021) September 2015</a>").<br>
              The regions are defined as follows:
              <dl>
                <dt>ESRA North-West</dt>
                <dd>
                    EB (Belgium), ED (Germany - civil), EF (Finland), EG (United Kingdom of Great Britain and Northern Ireland),
                    EH (Netherlands), EI (Ireland), EK (Denmark), EL (Luxemburg), EN (Norway), ES (Sweden), ET (Germany - military),
                    LF (France), LN (Monaco), LO (Austria), LS (Switzerland.)
                </dd>
                <dt>ESRA Mediterranean</dt>
                <dd>
                    GC (Spain - Canary Islands), LC (Cyprus), LE (Spain), LG (Greece), LI (Italy), LM (Malta), LP (Portugal -
                    including the Azores and Madeira), LT (Turkey.)
                </dd>
                <dt>ESRA East</dt>
                <dd>
                    BK (Kosovo), EP (Poland), LA (Albania), LB (Bulgaria), LD (Croatia), LH (Hungary),
                    LJ (Slovenia), LK (Czech Republic), LQ (Bosnia and Herzegovina), LR (Romania),
                    LU (Moldova), LW (The former Yugoslav Republic of Macedoni), LY (Gilbratar), LZ (Slovakia), UK (Ukraine.)
                </dd>
                <dt>Other Europe (limited to Eurocontrol members)</dt>
                <dd>
                    EE (Estonia), EV (Latvia), EY (Lithuania), UD (Armenia), UG (Georgia.)
                </dd>
              </dl>
          </div>
        </div>

        <div class="column">
          <div class="column-item">
            <h2>NOTE</h2>
            <p class="note">
              This is a preliminary study.
            </p>
            <p>Bear with us: we are working on cleaning the data, refining our choices for the visualization and publishing a paper with our findings.<br>
              Here is a list of things we want to tackle:
              color palette for colorblind readers (<a href="https://en.wikipedia.org/wiki/Color_blindness#Frequency_of_red-green_color_blindness_in_males_of_various_populations">5-10% of males for many populations</a> for red-green);
              similar colors for countries in the same region (thanks to Dr Sander for the suggestion);
              intra-European flows.
            </p>
            <p class="note">We would really appreciate any feedbacks and/or comments to improve or appreciate ;-) our work.</p>
          </div>
        </div>

        <div class="clear"></div>
      </div>

      <div class="column-wrap-3">
        <div class="column">
          <h3>Further information on circular plots</h3>
          <p>
            Nikola Sander &amp; Ramon Bauer.
            <a href="http://www.circular-world.com/" target="_blank">Circular World</a>.
          </p>
          <p>
            <a href="http://www.oeaw.ac.at/vid/staff/staff_nikola_sander.shtml">Nikola Sander</a>,
            <a href="http://www.oeaw.ac.at/vid/staff/staff_guy_abel.shtml">Guy J. Abel</a> &amp;
            <a href="http://www.oeaw.ac.at/vid/staff/staff_ramon_bauer.shtml">Ramon Bauer</a>.
            <a href="http://www.global-migration.info/" target=_blank>Global Flow of People</a>.
          </p>

          <h3>Contact</h3>
          <p>
            About the flight flows circular plots:<br>
            <a href="mailto:enrico.spinielli@eurocontrol.int">enrico.spinielli@eurocontrol.int</a>
          </p>
          <p>
            About the data:<br>
            <a href="mailto:enrico.spinielli@eurocontrol.int">enrico.spinielli@eurocontrol.int</a><br>
            <a href="mailto:muriel.tholome@eurocontrol.int">muriel.tholome@eurocontrol.int</a><br>
          </p>
        </div>

        <div class="column-2">
          <h3>Credits</h3>
          <p>Provided by
          <a href="https://euctrl-pru.github.io"><img src="/assets/pru-logo-11016155511b462c95fa6dc15ae65c51.png" alt="Performance Review Unit"></a>
          <a href="http://www.eurocontrol.int"><img src="/assets/ec-logo-32x32-33d8c17c9e61683eff096539968e6ccd.png" alt="Eurocontrol"></a>
          </p>
          <p>Many thanks to all Eurocontrol collegues for the decades spent in setting up the institutional and operational links with so many countries in and out of Europe, for managing the flows and capacities (<a href="https://www.eurocontrol.int/network-manager">Network Manager</a>), controlling flights (<a href="https://www.eurocontrol.int/muac">MUAC</a>), and for all other pre- (i.e. <a href="https://www.eurocontrol.int/sesar-research">Research and SESAR</a>) and post-ops (i.e. <a href="https://www.eurocontrol.int/crco">CRCO</a>, <a href="https://www.eurocontrol.int/forecast-monitoring-analysis">STATFOR, CODA, ...</a>) activities so necessary to help European aviation aiming at performing better and better.</p>
          <p>
            Thanks to
            <a href="http://www.wittgensteincentre.org"><img src="/assets/wittgenstein-5b83821b176b976ea648fbc096f8fc4a.png" alt="Wittgenstein Centre"></a>
            , <a href="http://www.oeaw.ac.at/vid/"><img src="/assets/vid-719bce05bb304addd91217f1b6bfc15d.png" alt="Vienna Institute of Demography"></a>
            for having made their work publicly available (even in <a href="http://github.com/null2/globalmigration">source code</a>! Which allowed us to propose little contributions.)
          <p>Circular plot library coded by <a href="http://null2.net"><img src="/assets/null2-49e84eeafe9f4a0f5b52201a300b2259.png" alt="Null2"></a>
          and inspired by Martin Krzywinski's <a href="http://circos.ca/">Circos</a> and Mike Bostock’s <a href="http://d3js.org/">D3.js library</a>.</p>

          <h3>Special thanks</h3>
          <p>
            All this work would have not been possible without the friendly support of many colleagues from the PRU. Essential too, of course, is PRU management permission to let us explore new avenues, letting us try and fail and enjoy and eventually get something useful out of it all. This is only the start!
          </p>
        </div>

        <div class="clear"></div>

      </div>

      <hr>



      <br><br>

  	</footer>

    <div id=help-wrapper class=help-wrapper>
      <div class="help" id="help">
        <div class="tab">How to read the plot</div>
        <div class="help-content">
          <h3>How to read the plot</h3>
          <img src="/assets/help-58b6b33871b12aea680a4cd00823c0c3.png" alt="help" class="left">
          <p>
            Origins and destinations are represented by the circle’s segments.
            Each region/country is assigned a colour.
            Flows have the same colour as their origin and the width indicates their size.
            The direction of the flow is also shown by the gap between flow and country/region: small gap indicates origin; large gap indicates destination.
            <b>Click on a segment to switch between country and region view.</b>
          </p>
          <div class="clear"></div>
          <p>
            Switch between time periods using Ctrl and number keys (1,2,3,4);
            reset the plot using Ctrl and r; zoom in/out with Ctrl and +/-
          </p>

        </div>
        <div class="clear"></div>
      </div>
    </div>
  </div>

  <script>
    // help
    (function() {
      var help = d3.select('#help');

      help.on('click', function() {
        var isActive = help.classed('active');

        help
          .classed('active', !isActive)
          .transition()
          .style('width', isActive ? '30px' : '572px');
      });

      function helpOffset() {
        var offset = Math.max((document.body.clientWidth - document.getElementById('dia-container').clientWidth) / 2, 0);
        offset = 0;
        // console.log("client width:" + document.body.clientWidth);
        // console.log("dia width:" + document.getElementById('dia-container').clientWidth);
        help.style('right', offset + 'px');
      }
      d3.select(window).on('resize.help-resize', helpOffset);
      helpOffset();
    })();
  </script>


  <script>
    (function() {

      var datafile = 'json/intra-flows.json';
      var aLittleBit = Math.PI / 100000;
      // var cols = 'd7191c fdae61 ffffbf abd9e9 2c7bb6'; // colorbrewer 5 classes/diverging/colorblind safe, print safe
      var cols = '683f92 cd3d08 b60275 6dae29 ec8f00 2058a5 00a592 009d3c 378974 ffca00'; // original set

      d3.json(datafile, function(data) {
        var now = 2014;
        var chart = Globalmigration.chart(data, {
          element: '#diagram',
          width: 800,
          height: 850,
          now: now,
          maxRegionsOpen: 4,
          animationDuration: 500,
          margin: 100,
          arcPadding: 0.04,
          layout: {
            alpha: 60, // start angle for first region, zero is up North
            threshold: 1,
            labelThreshold: 2,
            sortSubgroups: d3.ascending,



            colors: cols.split(' ')
              .map(function(c) { return '#' + c; })
          }
        });

        Globalmigration.timeline(chart, {
          now: now,
          element: '#timeline',
          incr: 1
        });

        var radios = d3.selectAll("#timeline form .year input"),
        len = radios[0].length,
        current = len - 1,
        actions = [],
        playInterval;

        // create an array of objects in order to be able to simulate click on buttons when animating
        // this is enormously ugly code, bleah!
        radios.each(function (d, i) {
          actions[i] = {"button": this, "action": d3.select(this).on("click"), "d": d, "i": i};
        })

        function getCurrentSelected() {
          var index;
          d3.selectAll("#timeline form .year input").each(function(d, i){
            var that = d3.select(this);
            if (that.property("checked") === true) {
              console.log("found it: " + i);
              index = +i;
            }
          });
          return index;
        }

        var play = d3.select(".fa-play");
        play.on("click", function () {
          // change look
          play.style("opacity", 0.4);
          stop.style("opacity", 1.0);
          current = getCurrentSelected();
          // TODO: we should disable mouse click while playing...

          // iterate thru all radio buttons and simulate a click event
          playInterval = setInterval(function () {
            current = (current + 1) % len;
            actions[current].action.apply(actions[current].button, [actions[current].d, actions[current].i]);
            // TODO: revive tooltip? How?!!!
          }, 1500); // 1.5 seconds
        });


        var stop = d3.select(".fa-stop")
          .style("opacity", 0.4);
        stop.on("click", function () {
          stop.style("opacity", 0.4);
          play.style("opacity", 1.0);
          clearInterval(playInterval);
        });

        chart.draw(now);
      });
    })();

  </script>



    <div id="footer">
      <div class="container-fluid">
        <p class="muted credit" style="text-align:center; margin-top:3em">
	<small>
		<span style="text-aligh:left">&copy; 2016 European Organisation for the Safety of Air Navigation (EUROCONTROL).</span> &nbsp; &mdash; &nbsp;
		<span style="text-aligh:right">Subscribe via
		<!-- text encoded (in _subscriber-href-encoded.txt) to avoid spammer robots via http://clickable-email.ezkode.com/ -->
		<a href="&#x6D;&#x61;&#x69;&#x6C;&#x74;&#x6F;&#x3A;&#x50;&#x52;&#x55;&#x2D;&#x53;&#x75;&#x70;&#x70;&#x6F;&#x72;&#x74;&#x40;&#x65;&#x75;&#x72;&#x6F;&#x63;&#x6F;&#x6E;&#x74;&#x72;&#x6F;&#x6C;&#x2E;&#x69;&#x6E;&#x74;&#x3F;&#x73;&#x75;&#x62;&#x6A;&#x65;&#x63;&#x74;&#x3D;&#x53;&#x75;&#x62;&#x73;&#x63;&#x72;&#x69;&#x62;&#x65;&#x25;&#x33;&#x41;&#x25;&#x32;&#x30;&#x50;&#x52;&#x55;&#x25;&#x32;&#x30;&#x69;&#x6E;&#x66;&#x6F;&#x72;&#x6D;&#x61;&#x74;&#x69;&#x6F;&#x6E;&#x25;&#x32;&#x30;&#x70;&#x6F;&#x69;&#x6E;&#x74;&#x26;&#x62;&#x6F;&#x64;&#x79;&#x3D;&#x50;&#x6C;&#x65;&#x61;&#x73;&#x65;&#x25;&#x32;&#x30;&#x61;&#x64;&#x64;&#x25;&#x32;&#x30;&#x6D;&#x65;&#x25;&#x32;&#x30;&#x74;&#x6F;&#x25;&#x32;&#x30;&#x74;&#x68;&#x65;&#x25;&#x32;&#x30;&#x6D;&#x61;&#x69;&#x6C;&#x69;&#x6E;&#x67;&#x25;&#x32;&#x30;&#x6C;&#x69;&#x73;&#x74;&#x25;&#x32;&#x30;&#x74;&#x6F;&#x25;&#x32;&#x30;&#x67;&#x65;&#x74;&#x25;&#x32;&#x30;&#x69;&#x6E;&#x66;&#x6F;&#x72;&#x6D;&#x65;&#x64;&#x25;&#x32;&#x30;&#x61;&#x62;&#x6F;&#x75;&#x74;&#x25;&#x32;&#x30;&#x69;&#x6E;&#x66;&#x6F;&#x72;&#x6D;&#x61;&#x74;&#x69;&#x6F;&#x6E;&#x25;&#x32;&#x30;&#x75;&#x70;&#x64;&#x61;&#x74;&#x65;&#x73;&#x2E;">email <i class="fa fa-envelope"></i></a> or <a href="https://euctrl-pru.github.io/feed.xml">RSS <i class="fa fa-rss"></i></a></span>
	</small>
    <!-- see older versions for what can be put here. -->

</p>

      </div>
    </div>

  </div>
</body>
</html>
