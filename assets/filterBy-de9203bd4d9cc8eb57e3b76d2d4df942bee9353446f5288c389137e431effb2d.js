function buildFilter(t,e,l,n){"use strict";function o(t){console.log(t),l.filterAll(),+t!==-1?l.filter(function(e){return e===i[t].text}):(l.filterAll(),console.log("selected '"+e+"'.")),dc.redrawAll()}d3.select(t).append("option").text(e).attr("value","-1");var i=_.map(n.top(1/0),"key");i.sort(),i=i.map(function(t,e){return{id:e,text:t}}),$(t).select2({data:i,minimumResultsForSearch:1/0}),$(t).on("change",function(){o(this.value)})}