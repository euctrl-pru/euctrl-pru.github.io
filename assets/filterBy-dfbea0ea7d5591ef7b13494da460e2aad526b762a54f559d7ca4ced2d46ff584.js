function buildFilter(t,e,n,l){"use strict";function i(t){console.log(t),n.filterAll(),+t!=-1?n.filter(function(e){return e===o[t].text}):(n.filterAll(),console.log("selected '"+e+"'.")),dc.redrawAll()}d3.select(t).append("option").text(e).attr("value","-1");var o=_.map(l.top(Infinity),"key");o.sort(),o=o.map(function(t,e){return{id:e,text:t}}),$(t).select2({data:o,minimumResultsForSearch:Infinity}),$(t).on("change",function(){i(this.value)})}